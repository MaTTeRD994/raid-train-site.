<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stream Schedule</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link rel="stylesheet" href="index.css" />
</head>
<body>
<div class="page-wrapper">
    <section class="hero">
        <div class="hero-content">

            <div class="hero-text">
                <h1>Welcome to THA SMP RaidTrain</h1>
                <p>Join us as we stream, raid, and vibe together with the THA SMP crew.</p>
                <p class="countdown-timer"> <span id="countdown"></span></p>
                <a href="https://discord.gg/sKQwahES2G" target="_blank" class="hero-button">
                    <i class="fab fa-discord"></i> Join Our Discord
                </a>
            </div>

            <img src="thasmp.png" alt="Streamday Art" class="hero-image" />

        </div>
    </section>

    <section class="day-section fade-in">
        <h1>Wednesday, 28th May</h1>
        <div class="card-row">
            <div class="streamer-card" data-start="2025-05-28T07:00:00-07:00" data-end="2025-05-28T09:00:00-07:00">
                <img src="vii_the_king.png" alt="Vi_the_kingmc" class="profile-pic" />
                <h3 class="streamer-name">Vi_the_kingmc</h3>
                <div class="stream-times">
                    <p><strong>Start:</strong> <span class="local-time" data-time="2025-05-28T07:00:00-07:00"></span></p>
                    <p><strong>End:</strong> <span class="local-time" data-time="2025-05-28T09:00:00-07:00"></span></p>
                </div>
                <a href="https://twitch.tv/Vi_the_kingmc" target="_blank" class="platform-button">
                    <i class="fab fa-twitch"></i> Watch on Twitch
                </a>
            </div>

            <div class="streamer-card" data-start="2025-05-28T09:00:00-07:00" data-end="2025-05-28T11:00:00-07:00">
                <img src="thamatter.png" alt="ThaMaTTeR" class="profile-pic" />
                <h3 class="streamer-name">ThaMaTTeR</h3>
                <div class="stream-times">
                    <p><strong>Start:</strong> <span class="local-time" data-time="2025-05-28T09:00:00-07:00"></span></p>
                    <p><strong>End:</strong> <span class="local-time" data-time="2025-05-28T11:00:00-07:00"></span></p>
                </div>
                <a href="https://twitch.tv/ThaMaTTeR" target="_blank" class="platform-button">
                    <i class="fab fa-twitch"></i> Watch on Twitch
                </a>
            </div>

            <div class="streamer-card" data-start="2025-05-28T11:00:00-07:00" data-end="2025-05-28T13:00:00-07:00">
                <img src="noessh.png" alt="noesshie" class="profile-pic" />
                <h3 class="streamer-name">noesshie</h3>
                <div class="stream-times">
                    <p><strong>Start:</strong> <span class="local-time" data-time="2025-05-28T11:00:00-07:00"></span></p>
                    <p><strong>End:</strong> <span class="local-time" data-time="2025-05-28T13:00:00-07:00"></span></p>
                </div>
                <a href="https://twitch.tv/noesshie" target="_blank" class="platform-button">
                    <i class="fab fa-twitch"></i> Watch on Twitch
                </a>
            </div>

            <div class="streamer-card" data-start="2025-05-28T20:00:00Z" data-end="2025-05-28T22:00:00Z">
                <img src="Wombat_logo.png" alt="WombatusMaximus" class="profile-pic" />
                <h3 class="streamer-name">WombatusMaximus</h3>
                <div class="stream-times">
                    <p><strong>Start:</strong> <span class="local-time" data-time="2025-05-28T20:00:00Z"></span></p>
                    <p><strong>End:</strong> <span class="local-time" data-time="2025-05-28T22:00:00Z"></span></p>
                </div>
                <a href="https://twitch.tv/WombatusMaximus" target="_blank" class="platform-button">
                    <i class="fab fa-twitch"></i> Watch on Twitch
                </a>
            </div>
        </div>
    </section>

    <section class="day-section fade-in">
        <h1>Thursday, 29th May</h1>
        <div class="card-row">
            <div class="streamer-card" data-start="2025-05-29T07:00:00-07:00" data-end="2025-05-29T09:00:00-07:00">
                <img src="taken.png" alt="Le_Taken" class="profile-pic" />
                <h3 class="streamer-name">Le_Taken</h3>
                <div class="stream-times">
                    <p><strong>Start:</strong> <span class="local-time" data-time="2025-05-29T07:00:00-07:00"></span></p>
                    <p><strong>End:</strong> <span class="local-time" data-time="2025-05-29T09:00:00-07:00"></span></p>
                </div>
                <a href="https://twitch.tv/Le_Taken" target="_blank" class="platform-button">
                    <i class="fab fa-twitch"></i> Watch on Twitch
                </a>
            </div>

            <div class="streamer-card" data-start="2025-05-29T09:00:00-07:00" data-end="2025-05-29T11:00:00-07:00">
                <img src="tort01.jpg" alt="tortoise12345" class="profile-pic" />
                <h3 class="streamer-name">tortoise12345</h3>
                <div class="stream-times">
                    <p><strong>Start:</strong> <span class="local-time" data-time="2025-05-29T09:00:00-07:00"></span></p>
                    <p><strong>End:</strong> <span class="local-time" data-time="2025-05-29T11:00:00-07:00"></span></p>
                </div>
                <a href="https://twitch.tv/tortoise12345" target="_blank" class="platform-button">
                    <i class="fab fa-twitch"></i> Watch on Twitch
                </a>
            </div>

            <div class="streamer-card" data-start="2025-05-29T11:00:00-07:00" data-end="2025-05-29T13:00:00-07:00">
                <img src="folmers.jpg" alt="Folmers" class="profile-pic" />
                <h3 class="streamer-name">Folmers</h3>
                <div class="stream-times">
                    <p><strong>Start:</strong> <span class="local-time" data-time="2025-05-29T11:00:00-07:00"></span></p>
                    <p><strong>End:</strong> <span class="local-time" data-time="2025-05-29T13:00:00-07:00"></span></p>
                </div>
                <a href="https://twitch.tv/Folmers" target="_blank" class="platform-button">
                    <i class="fab fa-twitch"></i> Watch on Twitch
                </a>
            </div>

            <div class="streamer-card" data-start="2025-05-29T20:00:00Z" data-end="2025-05-29T22:00:00Z">
                <img src="rty.png" alt="Rtliy" class="profile-pic" />
                <h3 class="streamer-name">Rtliy</h3>
                <div class="stream-times">
                    <p><strong>Start:</strong> <span class="local-time" data-time="2025-05-29T20:00:00Z"></span></p>
                    <p><strong>End:</strong> <span class="local-time" data-time="2025-05-29T22:00:00Z"></span></p>
                </div>
                <a href="https://www.twitch.tv/rtily_" target="_blank" class="platform-button" style="background: #9146ff; margin-bottom: 0.5rem;">
                    <i class="fab fa-twitch"></i> Twitch
                </a>
                <a href="https://youtube.com//@RTily" target="_blank" class="platform-button" style="background: #FF0000;">
                    <i class="fab fa-youtube"></i> YouTube
                </a>
            </div>
        </div>
    </section>
</div>

<script>
    function formatToLocalTime(isoString) {
        const date = new Date(isoString);
        let time = date.toLocaleTimeString([], {
            hour: '2-digit',
            minute: '2-digit',
            hour12: true
        });
        return time.replace(/am|pm/, match => match.toUpperCase());
    }

    document.querySelectorAll('.local-time').forEach(el => {
        const iso = el.dataset.time;
        el.textContent = formatToLocalTime(iso);
    });

    const now = new Date();
    document.querySelectorAll('.streamer-card').forEach(card => {
        const start = new Date(card.dataset.start);
        const end = new Date(card.dataset.end);

        if (now >= start && now <= end) {
            const badge = document.createElement('span');
            badge.className = 'live-badge';
            badge.innerText = 'LIVE';
            const nameEl = card.querySelector('.streamer-name');
            if (nameEl) nameEl.appendChild(badge);
        }
    });

    function updateCountdown() {
        const now = new Date();
        const cards = Array.from(document.querySelectorAll('.streamer-card'));

        const upcoming = cards
            .map(card => new Date(card.dataset.start))
            .filter(date => date > now)
            .sort((a, b) => a - b)[0]; // get soonest upcoming

        const countdownEl = document.getElementById('countdown');

        if (!upcoming) {
            countdownEl.textContent = "No upcoming streams!";
            return;
        }

        function render() {
            const diff = upcoming - new Date();
            if (diff <= 0) {
                countdownEl.textContent = "Next stream is starting now!";
                return;
            }

            const hours = Math.floor(diff / 1000 / 60 / 60);
            const minutes = Math.floor((diff / 1000 / 60) % 60);
            const seconds = Math.floor((diff / 1000) % 60);

            countdownEl.textContent = `⏳ Next stream starts in: ${hours}h ${minutes}m ${seconds}s`;
        }

        render();
        setInterval(render, 1000); // update every second
    }

    updateCountdown();

</script>
</body>
</html>